<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Traumapoint with Tmap</title>
  <link rel="stylesheet" href="/style.css" />
  <script src="https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey=tEiRteq9K69x8eOSBcOJb3FWVFkzNRiJ3OxUBB1m"></script>
</head>
<body>
  <header>
  <div style="display: flex; align-items: center; justify-content: space-between;">
    <div>
      <h1>🚑 Traumapoint</h1>
      <p>Tmap 기반 외상 이송 포인트 추천 시스템</p>
    </div>
    <div style="text-align: center;">
      <!-- QR 코드 이미지 -->
      <img src="/images/qr-code.png" alt="Traumapoint QR" style="height: 100px; margin-left: 20px;" />
      <!-- 공유 버튼 -->
      <button onclick="shareQR()" style="margin-top: 8px;">📤 QR 코드 공유하기</button>
    </div>
  </div>
  </header>

  <main>
    <input type="text" id="startInput" placeholder="출발지를 입력하세요 (예: 광명역)" />
    <div id="suggestions"></div>
    <button id="searchBtn">추천 받기</button>
    <button id="currentLocationBtn">📍 현재 위치에서 추천받기</button>
    <button id="copyAppLink">Traumapoint 앱 공유하기</button>
    <div id="results"></div>
    <div id="map" style="width:100%; height:400px;"></div>
  </main>

  <!-- ✅ 책임 회피 문구 및 제작자 정보 -->
  <footer style="padding: 15px; text-align: center; font-size: 0.9em; color: #777;">
    ⚠️ 이 앱은 참고용으로 제공됩니다.<br>
    실제 이송 판단 및 조치는 구급대나 의료진 등 전문가의 최종 판단에 따라야 합니다.<br>
    <span style="color: red; font-weight: bold;">본 앱은 정보 제공에 대한 법적 책임을 지지 않습니다.</span><br><br>
© 2025 Jaeik Jang, MD. All rights reserved. l Contact: <a href="mailto:blanc7654@gmail.com">blanc7654@gmail.com</a><br>
본 앱은 인천, 김포, 광명, 부천, 시흥 지역의 2025년 4월 시점에서의 모든 응급실, 소방서 정보를 포함합니다.
  </footer>

  <script src="/app.js"></script>
  <script>
    document.getElementById('copyAppLink').addEventListener('click', () => {
      navigator.clipboard.writeText(window.location.origin);
      alert("✅ Traumapoint 기본 링크가 복사되었습니다!");
    });

  function shareQR() {
    const imageUrl = window.location.origin + "/images/qr-code.png";
    navigator.clipboard.writeText(imageUrl).then(() => {
      alert("📎 QR 코드 이미지 링크가 복사되었습니다!\n" + imageUrl);
    }).catch(err => {
      alert("❌ 복사 실패: " + err);
    });
  }
  </script>
</body>
</html>
